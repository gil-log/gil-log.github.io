---
title: "로그포터와 개발자의 돌"
last_modified_at: 2023-04-28T07:20
categories:
- tech-seminar
tags:
  - 세미나
  - Jenkins
  - 파일럿프로젝트
  - CI/CD
  - 자동화
  - 이펙티브엔지니어
toc: true
toc_label: "목차"
toc_icon: "sort"
toc_sticky: true
---

## 파일럿 프로젝트, Jenkins 자동화 도구 적용기

``` 
해당 포스팅은 개발자 세미나 발표를 위해 작성되었습니다.
포스팅에서 사용하는 어휘나 문구가 부적절할 수 있습니다. 🙇‍♂️
```



---

# 로그포터와 개발자의 돌


![logpotter](https://user-images.githubusercontent.com/48559894/235003590-31295566-9679-4e7c-9fa2-5ba21afcf61b.png)



`login();`


안녕하세요. LogPotter 입니다.

오늘은 **자동화 배포와 에러 알림을 적용한 파일럿 프로젝트의 경험**과 함께,

최근 **효율적인 개발자 관련 서적을 읽으며 느낀 점들을 공유**할 예정입니다.

<br>


이번 나만의 프로젝트를 진행하며 적용된 자동화 기능들이 참 편리하고 마법같다고 느꼈습니다.

![](https://user-images.githubusercontent.com/48559894/235006636-ee8d0e00-9d22-48d1-b833-b715d58085ab.png)

> 와 자동화 배포! 와 에러 알림!

하지만 의도한대로 적용되기까지 겪은 과정들에 난관이 참 많았는데요.

<br>

_나의 의도 : 모두를 편리하게! 익스펙토 펙트로늄!_

![](https://user-images.githubusercontent.com/48559894/235007439-d59f5f04-6353-4669-a6d6-551c647676ba.jpg)


<br>

_실제 동작 : 다죽어 X발! 아바다 케다브라!_

![](https://user-images.githubusercontent.com/48559894/235007999-8dd13279-08b8-4ab1-9f1b-cc8e8257a2b2.jpg)

_ㅋㅋ 서버 겁나 죽임_


안정적으로 구조가 적용될 때 까지 겪었던 난관들에 대해서 얘기해보려합니다.  


<br>


또한 최근에 읽게된 효율적인 개발자를 위한 서적, `이펙티브 엔지니어`를 읽으며,

파일럿 프로젝트를 적용하는 동안 공감가고 지침으로 새겨보았던 내용들도 함께 얘기해보려 합니다.


---

## 왜 CI/CD를 나만의 프로젝트로?


우선 이번 **파일럿 프로젝트에서 작업한 내용** 중,

**CI/CD 적용이 핵심 주제**라 **왜 CI/CD를 선정했는지** 부터 이야기 해보려 합니다.

_CI/CD가 뭔지?? [무중단배포, CI/CD란 - Gillog](https://gil-log.github.io/ci-cd/%EB%AC%B4%EC%A4%91%EB%8B%A8%EB%B0%B0%ED%8F%AC-CI-CD/)_

<br>


**개발자가 CI/CD, 자동화 배포를 적용하는 이유에는 아래와 같은 것들**이 있습니다.


- 자동화된 빌드로 빠른 릴리스 사이클, 높은 품질 코드
- 개발, 운영 서버 간의 경계 희석 피드백 주기 향상
- 빠른 배포 속도로 출시 주기 상승

뭐 이런 이유들이 있다고 하는데,

**제가 CI/CD 적용을 파일럿 프로젝트로 정한 시작점**은

**다 필요없고 지난 1년간 배포가 드럽게 귀찮아서** 였습니다.



![](https://user-images.githubusercontent.com/48559894/235543953-19c64840-fab1-4d87-952b-2b4c95f4e7a8.png)
_이전 1년 넘게 진행했던 프로젝트에서 배포 가이드_


<br>



또 배포 자체가 귀찮다보니, **한번 배포할 때 개발된 버전들을 한번에 모아서 배포하는 습관**이 들게되더라구요.

![](https://user-images.githubusercontent.com/48559894/235544582-1420cddc-e89b-4237-957a-c576466ac2b9.png)
_배포하기전 관련자들에게 노티를 매번..._

![](https://user-images.githubusercontent.com/48559894/235545417-6ac778ab-14f4-4880-8fff-5371ac7b4df9.png)

![](https://user-images.githubusercontent.com/48559894/235545502-962d3bb5-5ab0-4915-a2a1-a5bffa6a5104.png)

_API 개발되고 개발서버에 적용되면 매번 노티 + 한번에 쌓아두었다가 개발 서버 배포,,,(배포가 귀찮으니까,,)_

_개발되고 PR 머지도 되었지만, 개발 서버 배포까지, 모아두었다가 한번에 배포_

<br>

다 필요 없습니다.

**배포라는 작업이 엄청난 작업은 아닌데 엄청 귀찮은 작업**이어서,

**이걸 자동화 해야겠다라는 생각은 항상 마음**먹고 있었는데,

**바쁜 일정을 핑계**로, **다른 우선순위를 핑계**로 뒤로 미루고 있던걸,

이번 파일럿 프로젝트에서 적용하게 되었습니다.

![](https://user-images.githubusercontent.com/48559894/235545077-378ec5d5-25b1-43f4-a78a-89a60c1ecf27.png)
_마음은 2년전부터 가지고 있었다,, 미안 다른게 바빠서,,, 고생했다 2년간의 Gillog_


<br>

처음 시작점은 분명 `그냥 귀찮아서` 였습니다.

이번 파일럿 프로젝트를 통해 **얻고 싶었던 이점도 단순히 귀찮은걸 줄여서 편해지자 정도**였습니다.

그런데 `이펙티브 엔지니어`를 읽으며 든 생각과 적용하고 나서 얻게 된 이점을 정리해보니,

아래와 같이 구체화 되었습니다.



### 시간 절약 도구에 투자

`이펙티브 엔지니어` 내용 좌라라




### Move Fast And Break Things

페이스북 핵심 문구

망가지더라도 빠르게 움직여라

적용될 기능 안정화 중요 > 안정적이게 하려고 느리게 적용하는게 더 나쁨


### 중요하지만 급하지 않은 일

좌표 곡선 + 자동화 배포 이런건 없어도 직접하면 되서
실제로 1년 넘게 직접함

근데 하고 나면 효과 좋은 + 생산성 향상

---

## CI/CD Bot Jengils

젠길스 기능, 전체 구조

![](https://user-images.githubusercontent.com/48559894/235543213-cc9121cb-53d4-4615-9c42-48efa9e08f2c.png)


![](https://user-images.githubusercontent.com/48559894/235546227-b98aa9dc-6f60-46c5-a61e-3162e5776165.png)

### 적용 과정 이슈

이슈들 아래

#### 1024 미만 포트 Root 구동

구동 포트1024로 구동하려니까 jenkins 사용자에서 안되던거

#### Java Application이 무겁다

gradle 실행 이게 기본 메모리가 이렇게 빌드 따는거만 해도 죽었었던것

#### 인스턴스 교체 될 때 jar파일 명 중복 관련

파일명 jar 똑같으니까 기존 인스턴스에 영향 가던 것

---


## 에러 알림 Bot Jenkils

젠킬스 기능, 구조

### 아쉬운점

세션 ID 할당 관련


---

## 메모리 모니터링

해보려던 리서치한 툴들, Grafna나 생각했던 구조

아래는 도입하지 않은 이유

### 레버리지

막상 해놔봤자 쓸줄도 모르고 이걸 활용하지 않게 될 것이 분명



```
레버리지 = 생산한 효과 / 투자한 시간
```
 

.log랑 dump 생성 옵션 추  한 부분

---


`logout();`
