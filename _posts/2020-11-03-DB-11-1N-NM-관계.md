---
title: "[DB] 1:1, 1:N, N:M 관계"
last_modified_at: 2020-11-03T22:14
categories: 
  - database
tags: 
  - 'db'
toc: true
toc_label: '목차'
toc_icon: 'sort'
toc_sticky: true
---
`관계형 데이터베이스(Oracle, MySQL, MS-SQL, SQLite 등등)`는** 엔티티끼리 관계를 맺을 수 있어서 관계형 DB라는 이름이 붙었다.**
_`엔티티(Entity)` : DataBase에 표현하려고 하는 유형, 무형의 객체로서 서로 구별되는 것을 뜻한다._

`관계`는 **두 엔티티가 서로 관련이 있을 때**를 말하는데, **`1:1`, `1:N`, `N:M` 관계**를 맺을 수 있다.

# 1:1 관계(일대일 관계)

**`1:1 관계`**란 어느 엔티티 쪽에서 **상대 엔티티와 반드시 단 하나의 관계를 가지는 것**을 말한다.



예를 들어, 우리나라에서 결혼 제도는 일부일처제로, 한 남자는 한 여자와, 한 여자는 한 남자와 밖에 결혼을 할 수 없다.

남편 또는 부인을 2명 이상 둘 수 없는데, 이러한 관계가 `1:1 관계`다.


![](https://images.velog.io/images/gillog/post/296d4f71-8eba-4353-bf3a-4d9b342695df/11.PNG)


# 1:N 관계(일대다 관계)


**`1:N 관계`**는 한 쪽 엔티티가 **관계를 맺은 엔티티 쪽의 여러 객체를 가질 수 있는 것**을 의미한다.

현실세계에는 1:N관계가 많이 있는데, 실제 DB를 설계할 때 자주 쓰이는 방식이다.


**1:N 관계는 N:M 관계처럼 새로운 테이블을 만들지 않는다. **



예를 들어, 부모와 자식 관계를 생각해보면, 부모는 자식을 1명, 2명, 3명, 그 이상도 가질 수 있다.
_이를 부모가 자식을 소유한다고(has a 관계) 표현한다._

반대로 자식 입장에서는 부모(아버지, 어머니의 쌍)를 하나만 가질 수 밖에 없다.

이러한 관계를 `1:N 관계`라고 하며, 계층적인 구조로 이해할 수도 있다.


![](https://images.velog.io/images/gillog/post/8977abf9-f56e-46b0-8764-cf6446af1daf/22.PNG)


여러 명의 자식(N)의 입장에서 한 쌍의 부모(1)중 어떤 부모에 속해 있는지 표현해야하므로 **부모 테이블의 `PK`를 자식 테이블에 `FK`로 집어 넣어 관계를 표현**한다.


_`PK(Primary Key)` : 각 엔티티를 식별할 수 있는 대표키, **테이블에서 중복되지 않는(Unique) 값, Null일 수 없다.**_

_`FK(Foreign Key` : 다른 테이블의 기본키를 참조, 모든 필드는 참조하는 **기본키와 동일한 도메인(값의 종류&범위)**을 갖는다. <br>모든 **필드 값은 참조하는 기본키와 동일하거나 null 일 수 있다.**_


즉 부모 테이블(1)에서는 내 자식들이 누구인지 정보를 넣을 필요가 없고, 자식 테이블(N)에서만 각각의 자식들이 자신의 부모 정보(FK)를 넣음 으로써 관계를 표현할 수 있다.

# N:M 관계(다대다 관계)

**`N:M 관계`**는 관계를 가진 **양쪽 엔티티 모두에서 `1:N 관계`를 가지는 것**을 말한다.

즉,** 서로가 서로를 `1:N 관계`로 보고 있는 것**이다.


예를들어, 학원과 학생의 관계를 생각해보면, 한 학원에는 여러명의 학생이 수강할 수 있으므로 `1:N 관계`를 가진다.

반대로 학생도 여러개의 학원을 수강할 수 있으므로, 이 사이에서도 `1:M 관계`를 가진다.

그러므로 학원과 학생은 `N:M 관계`를 가진다고 할 수 있다.

![](https://images.velog.io/images/gillog/post/33a5d121-a58d-4791-a2f7-d1243e954d21/33.PNG)

`N:M 관계`는 서로가 서로를 `1:N 관계`, `1:M 관계`로 갖고 있기 때문에, **서로의 `PK`를 자신의 외래키 컬럼으로 갖고 있으면 된다.**

일반적으로 **`N:M 관계`는 두 테이블의 대표키를 컬럼으로 갖는 또 다른 테이블을 생성해서 관리한다.**



<br>

# 🙆‍♂️ 참고사이트 🙇‍♂️

[[DB] 데이터베이스의 1:1, 1:N, N:M 관계[나다움_sparkling]](https://life-with-coding.tistory.com/278)

[🙈[DB] 관계형 DB에서의 관계 ( 1:1 / 1:M / N:M )🐵[victolee]](https://victorydntmd.tistory.com/30)

[데이터베이스 키 개념, 기본키, 외래키[Crocus]](https://www.crocus.co.kr/1332)

[]()

[]()

[]()